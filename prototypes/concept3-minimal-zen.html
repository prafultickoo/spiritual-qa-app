<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üïâÔ∏è Spiritual Wisdom - Minimal Zen</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Crimson+Text:wght@400;600&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: #ffffff;
            color: #2d3748;
            overflow: hidden;
            line-height: 1.6;
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #ffffff;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            transition: opacity 0.8s ease-out;
        }

        .loading-content {
            text-align: center;
        }

        .om-symbol {
            font-size: 64px;
            margin-bottom: 32px;
            animation: breathe 4s ease-in-out infinite;
            opacity: 0.7;
        }

        .loading-text {
            font-size: 14px;
            color: #718096;
            font-weight: 400;
            letter-spacing: 0.5px;
        }

        @keyframes breathe {
            0%, 100% { transform: scale(1); opacity: 0.7; }
            50% { transform: scale(1.02); opacity: 0.9; }
        }

        /* Main App */
        .app {
            display: none;
            height: 100vh;
            max-width: 800px;
            margin: 0 auto;
            position: relative;
        }

        /* Header - Ultra Minimal */
        .header {
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 40px;
            position: relative;
        }

        .logo {
            font-size: 18px;
            font-weight: 500;
            color: #2d3748;
            font-family: 'Crimson Text', serif;
            letter-spacing: 0.5px;
        }

        .settings-btn {
            position: absolute;
            right: 40px;
            width: 32px;
            height: 32px;
            border: none;
            background: transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            font-size: 16px;
            color: #a0aec0;
            border-radius: 6px;
        }

        .settings-btn:hover {
            background: #f7fafc;
            color: #4a5568;
        }

        /* Reading Style Selector - Invisible Pills */
        .reading-styles {
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }

        .style-tabs {
            display: flex;
            gap: 8px;
            background: transparent;
            padding: 0;
        }

        .style-tab {
            padding: 8px 16px;
            font-size: 13px;
            font-weight: 400;
            color: #a0aec0;
            background: transparent;
            border: 1px solid #e2e8f0;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            letter-spacing: 0.2px;
        }

        .style-tab.active {
            background: #2d3748;
            color: white;
            border-color: #2d3748;
        }

        .style-tab:hover:not(.active) {
            border-color: #cbd5e0;
            color: #4a5568;
        }

        /* Chat Area - Maximum Space */
        .chat-container {
            height: calc(100vh - 80px - 60px - 100px);
            display: flex;
            flex-direction: column;
            padding: 0 40px;
        }

        .messages-area {
            flex: 1;
            overflow-y: auto;
            padding: 40px 0;
            scroll-behavior: smooth;
        }

        /* Messages - Typography First */
        .message {
            margin-bottom: 48px;
            max-width: 100%;
        }

        .message.user {
            text-align: right;
        }

        .message.bot {
            text-align: left;
        }

        .message-content {
            display: inline-block;
            max-width: 80%;
            padding: 0;
            font-size: 16px;
            line-height: 1.8;
            color: #2d3748;
            background: transparent;
            border: none;
            border-radius: 0;
        }

        .message.user .message-content {
            font-weight: 500;
            color: #4a5568;
            font-style: italic;
            border-left: 3px solid #e2e8f0;
            padding-left: 20px;
            text-align: left;
        }

        .message.bot .message-content {
            font-family: 'Crimson Text', serif;
            font-size: 17px;
            line-height: 1.9;
            color: #2d3748;
        }

        .om-greeting {
            font-weight: 600;
            color: #2d3748;
            font-family: 'Inter', sans-serif;
            font-size: 16px;
        }

        .message-time {
            display: block;
            font-size: 11px;
            color: #cbd5e0;
            margin-top: 12px;
            font-weight: 400;
            letter-spacing: 0.5px;
        }

        .message.user .message-time {
            text-align: right;
        }

        /* Input Area - Clean & Minimal */
        .input-area {
            height: 100px;
            padding: 0;
            background: transparent;
            display: flex;
            align-items: center;
        }

        .input-container {
            position: relative;
            width: 100%;
        }

        .message-input {
            width: 100%;
            min-height: 60px;
            max-height: 120px;
            padding: 18px 60px 18px 0;
            border: none;
            border-bottom: 1px solid #e2e8f0;
            font-family: 'Inter', sans-serif;
            font-size: 16px;
            line-height: 1.5;
            resize: none;
            outline: none;
            transition: border-color 0.3s ease;
            background: transparent;
            color: #2d3748;
        }

        .message-input:focus {
            border-bottom-color: #2d3748;
        }

        .message-input::placeholder {
            color: #cbd5e0;
            font-style: italic;
        }

        .send-button {
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            border: none;
            background: transparent;
            color: #a0aec0;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            font-size: 18px;
            border-radius: 20px;
        }

        .send-button:hover {
            background: #f7fafc;
            color: #2d3748;
        }

        .send-button:disabled {
            color: #e2e8f0;
            cursor: not-allowed;
        }

        /* Settings Sidebar - Clean Panel */
        .settings-sidebar {
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            height: 100vh;
            background: #ffffff;
            border-left: 1px solid #f1f5f9;
            transition: right 0.4s ease;
            z-index: 50;
            overflow-y: auto;
        }

        .settings-sidebar.open {
            right: 0;
        }

        .settings-header {
            height: 80px;
            padding: 0 32px;
            border-bottom: 1px solid #f7fafc;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .settings-title {
            font-size: 16px;
            font-weight: 500;
            color: #2d3748;
            font-family: 'Crimson Text', serif;
        }

        .close-settings {
            width: 32px;
            height: 32px;
            border: none;
            background: transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            color: #a0aec0;
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        .close-settings:hover {
            background: #f7fafc;
            color: #4a5568;
        }

        .settings-content {
            padding: 32px;
        }

        .setting-group {
            margin-bottom: 32px;
        }

        .setting-label {
            display: block;
            font-size: 13px;
            font-weight: 500;
            color: #4a5568;
            margin-bottom: 12px;
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }

        .setting-select {
            width: 100%;
            padding: 12px 0;
            border: none;
            border-bottom: 1px solid #e2e8f0;
            font-size: 15px;
            background: transparent;
            color: #2d3748;
            outline: none;
            transition: border-color 0.3s ease;
            cursor: pointer;
        }

        .setting-select:focus {
            border-bottom-color: #2d3748;
        }

        .setting-help {
            font-size: 12px;
            color: #a0aec0;
            margin-top: 8px;
            line-height: 1.5;
        }

        .slider-container {
            margin-top: 12px;
        }

        .slider {
            width: 100%;
            height: 2px;
            border-radius: 1px;
            background: #f7fafc;
            outline: none;
            -webkit-appearance: none;
            cursor: pointer;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #2d3748;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
        }

        .slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }

        .slider-value {
            font-size: 12px;
            color: #2d3748;
            font-weight: 500;
            margin-top: 8px;
        }

        /* Reasoning Effort */
        .reasoning-effort-group {
            display: none;
        }

        .reasoning-effort-group.visible {
            display: block;
        }

        /* Typing Indicator - Minimal */
        .typing-indicator {
            display: inline-block;
            padding: 0;
            background: transparent;
            border: none;
            font-style: italic;
            color: #a0aec0;
            font-size: 15px;
        }

        .typing-dot {
            display: inline-block;
            width: 4px;
            height: 4px;
            background: #cbd5e0;
            border-radius: 50%;
            margin: 0 1px;
            animation: typing 1.6s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) { animation-delay: 0.0s; }
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typing {
            0%, 60%, 100% { opacity: 0.3; }
            30% { opacity: 1; }
        }

        /* Welcome Message - Zen Center */
        .welcome-message {
            text-align: center;
            padding: 80px 0;
            color: #a0aec0;
        }

        .welcome-icon {
            font-size: 48px;
            margin-bottom: 24px;
            opacity: 0.5;
        }

        .welcome-title {
            font-size: 24px;
            font-weight: 400;
            color: #2d3748;
            margin-bottom: 12px;
            font-family: 'Crimson Text', serif;
        }

        .welcome-subtitle {
            font-size: 15px;
            line-height: 1.6;
            color: #a0aec0;
            max-width: 400px;
            margin: 0 auto;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .app {
                max-width: 100%;
            }

            .header {
                padding: 0 24px;
            }

            .chat-container {
                padding: 0 24px;
            }

            .settings-btn {
                right: 24px;
            }

            .message-content {
                max-width: 90%;
            }

            .settings-sidebar {
                width: 100vw;
                right: -100vw;
            }

            .welcome-message {
                padding: 60px 0;
            }
        }

        /* Scrollbar */
        .messages-area::-webkit-scrollbar {
            width: 4px;
        }

        .messages-area::-webkit-scrollbar-track {
            background: transparent;
        }

        .messages-area::-webkit-scrollbar-thumb {
            background: #e2e8f0;
            border-radius: 2px;
        }

        .messages-area::-webkit-scrollbar-thumb:hover {
            background: #cbd5e0;
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="om-symbol">üïâÔ∏è</div>
            <div class="loading-text">Connecting to Divine Wisdom...</div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="app" class="app">
        <!-- Header -->
        <div class="header">
            <div class="logo">üïâÔ∏è Spiritual Wisdom</div>
            <button class="settings-btn" id="settings-btn">‚öôÔ∏è</button>
        </div>

        <!-- Reading Style Selector -->
        <div class="reading-styles">
            <div class="style-tabs">
                <button class="style-tab" data-style="deep">Deep</button>
                <button class="style-tab active" data-style="balanced">Balanced</button>
                <button class="style-tab" data-style="practical">Practical</button>
            </div>
        </div>

        <!-- Chat Container -->
        <div class="chat-container">
            <div class="messages-area" id="messages-area">
                <!-- Welcome Message -->
                <div class="welcome-message">
                    <div class="welcome-icon">üïâÔ∏è</div>
                    <div class="welcome-title">Welcome to Spiritual Wisdom</div>
                    <div class="welcome-subtitle">Your AI guide for spiritual questions and ancient wisdom. Ask anything about life, dharma, meditation, or spiritual growth.</div>
                </div>
            </div>

            <!-- Input Area -->
            <div class="input-area">
                <div class="input-container">
                    <textarea 
                        id="message-input" 
                        class="message-input" 
                        placeholder="Ask your spiritual question..."
                        rows="1"
                    ></textarea>
                    <button id="send-button" class="send-button">‚û§</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Sidebar -->
    <div id="settings-sidebar" class="settings-sidebar">
        <div class="settings-header">
            <div class="settings-title">Settings</div>
            <button id="close-settings" class="close-settings">√ó</button>
        </div>
        
        <div class="settings-content">
            <div class="setting-group">
                <label class="setting-label">AI Model</label>
                <select id="model-select" class="setting-select">
                    <option value="gpt-4.1">GPT-4.1</option>
                    <option value="gpt-4o">GPT-4o</option>
                    <option value="o3-mini">o3 mini (Reasoning) üß†</option>
                    <option value="claude-3-opus">Claude 3 Opus</option>
                </select>
            </div>

            <div class="setting-group reasoning-effort-group" id="reasoning-effort-group">
                <label class="setting-label">Reasoning Effort</label>
                <select id="reasoning-effort-select" class="setting-select">
                    <option value="low">Low (Fast)</option>
                    <option value="medium" selected>Medium (Balanced)</option>
                    <option value="high">High (Deep Thinking)</option>
                </select>
                <div class="setting-help">Higher reasoning effort provides more thorough analysis but takes longer.</div>
            </div>

            <div class="setting-group">
                <label class="setting-label">Processing Method</label>
                <select id="rag-technique-select" class="setting-select">
                    <option value="stuff" selected>Stuff (Fast & Cheap)</option>
                    <option value="refine">Refine (High Quality)</option>
                    <option value="map_reduce">Map-Reduce (Parallel)</option>
                    <option value="map_rerank">Map-Rerank (Best Answer)</option>
                    <option value="selective">Selective (Smart)</option>
                </select>
                <div class="setting-help">Different techniques balance speed, cost, and response quality.</div>
            </div>

            <div class="setting-group">
                <label class="setting-label">Context Documents</label>
                <div class="slider-container">
                    <input type="range" id="k-parameter" class="slider" min="3" max="15" value="10">
                    <div class="slider-value" id="k-value">10</div>
                </div>
            </div>

            <div class="setting-group">
                <label class="setting-label">Diversity</label>
                <div class="slider-container">
                    <input type="range" id="diversity-parameter" class="slider" min="0" max="1" step="0.1" value="0.3">
                    <div class="slider-value" id="diversity-value">0.3</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Loading screen
        setTimeout(() => {
            document.getElementById('loading-screen').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('loading-screen').style.display = 'none';
                document.getElementById('app').style.display = 'block';
            }, 800);
        }, 2500);

        // Settings functionality
        const settingsBtn = document.getElementById('settings-btn');
        const settingsSidebar = document.getElementById('settings-sidebar');
        const closeSettings = document.getElementById('close-settings');

        settingsBtn.addEventListener('click', () => {
            settingsSidebar.classList.add('open');
        });

        closeSettings.addEventListener('click', () => {
            settingsSidebar.classList.remove('open');
        });

        // Close settings when clicking outside
        document.addEventListener('click', (e) => {
            if (!settingsSidebar.contains(e.target) && !settingsBtn.contains(e.target)) {
                settingsSidebar.classList.remove('open');
            }
        });

        // Reading style tabs
        document.querySelectorAll('.style-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.style-tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
            });
        });

        // Model selection and reasoning effort
        const modelSelect = document.getElementById('model-select');
        const reasoningEffortGroup = document.getElementById('reasoning-effort-group');

        modelSelect.addEventListener('change', (e) => {
            if (e.target.value === 'o3-mini') {
                reasoningEffortGroup.classList.add('visible');
            } else {
                reasoningEffortGroup.classList.remove('visible');
            }
        });

        // Slider updates
        document.getElementById('k-parameter').addEventListener('input', (e) => {
            document.getElementById('k-value').textContent = e.target.value;
        });

        document.getElementById('diversity-parameter').addEventListener('input', (e) => {
            document.getElementById('diversity-value').textContent = e.target.value;
        });

        // Message functionality
        const messageInput = document.getElementById('message-input');
        const sendButton = document.getElementById('send-button');
        const messagesArea = document.getElementById('messages-area');

        // Auto-resize textarea
        messageInput.addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = Math.min(this.scrollHeight, 120) + 'px';
        });

        // Send message
        function sendMessage() {
            const message = messageInput.value.trim();
            if (!message) return;

            // Remove welcome message
            const welcome = messagesArea.querySelector('.welcome-message');
            if (welcome) welcome.remove();

            // Add user message
            addMessage(message, 'user');
            messageInput.value = '';
            messageInput.style.height = 'auto';

            // Show typing indicator
            showTypingIndicator();

            // Simulate AI response
            setTimeout(() => {
                hideTypingIndicator();
                addMessage('Om! Your question touches the heart of spiritual wisdom. The ancient texts guide us toward understanding that true peace comes from within, through the practice of mindfulness and surrender to the divine flow of life.', 'bot');
            }, 2500);
        }

        sendButton.addEventListener('click', sendMessage);

        messageInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        function addMessage(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;

            const content = document.createElement('div');
            content.className = 'message-content';
            
            if (sender === 'bot' && text.startsWith('Om!')) {
                content.innerHTML = `<span class="om-greeting">Om!</span>${text.substring(3)}`;
            } else {
                content.textContent = text;
            }

            const time = document.createElement('div');
            time.className = 'message-time';
            time.textContent = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});

            messageDiv.appendChild(content);
            content.appendChild(time);

            messagesArea.appendChild(messageDiv);
            messagesArea.scrollTop = messagesArea.scrollHeight;
        }

        function showTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message bot';
            typingDiv.id = 'typing-indicator';

            const indicator = document.createElement('div');
            indicator.className = 'typing-indicator';
            indicator.innerHTML = 'thinking<span class="typing-dot"></span><span class="typing-dot"></span><span class="typing-dot"></span>';

            typingDiv.appendChild(indicator);
            messagesArea.appendChild(typingDiv);
            messagesArea.scrollTop = messagesArea.scrollHeight;
        }

        function hideTypingIndicator() {
            const typing = document.getElementById('typing-indicator');
            if (typing) typing.remove();
        }
    </script>
</body>
</html>
